from manim import *

class BasicAnimations(Scene):
    def construct(self):
        # Create animations
        square = Square()
        circle = Circle()
        triangle = Triangle()
        text = Text("Create")
        
        self.play(Create(square))
        self.play(Write(text))
        self.play(DrawBorderThenFill(triangle))
        self.wait()
        self.clear()

        # Different lag_ratios
        dots = VGroup(*[Dot() for _ in range(4)]).arrange(RIGHT)
        self.play(Create(dots), lag_ratio=0.5)
        self.play(dots.animate.shift(UP), lag_ratio=1.0)